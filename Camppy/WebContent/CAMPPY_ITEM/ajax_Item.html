<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>

	<form id="CH" method="post" enctype="multipart/form-data" onsubmit="submitAction(event)">
	        상품번호:   <input type="text" name="num"><br>
	        상품이름:   <input type="text" name="name"><br>
	        상품이미지:  <input type="file" name="fileName"><br>
	        상품정보:   <input type="text" name="img"><br>
	        
	        카테고리:   <select name="ctgr">
	        	 <option id="tent" value="텐트">== 텐 트 ==</option>
				 <option id="SB"   value="침낭">== 침 낭 ==</option>
				 </select><br>
				 
	        상품 메이커: <input type="text" name="comp"><br>
	        상품 국가:   <input type="text" name="cont"><br>
	        상품 가격:   <input type="text" name="price"><br>
	        상품 할인율:  <input type="text" name="offprice"><br>
	        재고량:     <input type="number" name="price"><br>

		<input type="submit" value="등록">
	</form>

	<!-- 가지고온 내용을 리스트에 추가 -->
	
	<div id="show"></div>
	
	<script>
	//리스트 생성
		$.ajax({
			url:'../GetListServlet' ,
			type: 'get',
			dataType:'json',
			success: function(result){
				
				for (let data of result){
					$('#show').append(createDiv(row));
				}
			},
			error: function(out){
				console.error(out);
			}
		});
	
		function ScreenOutput (data){
			let divData = $('<div />').addClass('data');
			$(divRow).append(
				$('<div />').html('<imp width = "500px" src="저장위치'+data.ITEM_IMAGE+'">'), //이미지 생성 
				$('<div />').html(data.ITEM_NAME),  //상품이름
				$('<div />').html(data.ORIGIN_PRICE)  //상품가격
			);
			return divData;
		}
		
		
		
		//업로드 화면 구현
		function SendEvent (e) {
			e.preventDefault(); //상위 전파 중단
			let CH = document.getElementById('CH');
			let data = new FormData(CH);
			
			$.ajax({
				url: '' ,
				type: $('#CH').attr('method') ,
				data: data ,
				processData: false ,
				contentType: false ,
				dataType: 'json',
				
				success: function (result) {
					alert('성공');
					$('#show').append(createDiv(result));
					
					$('#frm>input').not('[type="submit"]').val(''); 
				},
				error: function () {
					alert('실패');
				}
			});
		}
	
	
	</script>
</body>
</html>